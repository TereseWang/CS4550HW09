(this.webpackJsonpeventspa=this.webpackJsonpeventspa||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(13),c=n.n(a),i=n(10),o=n(12),l=(n(65),n(136)),j=n(6),u=(n(66),n(14)),d=n(138),h=n(134),b=n(139),p=n(135),O=n(52),x=n(137),f=n(15),v=n.n(f),m=n(31),g=n(20);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/set":return t.data;default:return e}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user_form/set":return t.data;default:return e}}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"events/set":return t.data;default:return e}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"session/set":return S(t.data),t.data;case"session/clear":return null;default:return e}}function S(e){var t=Object.assign({},e,{time:Date.now()});localStorage.setItem("session",JSON.stringify(t))}function L(){var e=localStorage.getItem("session");if(!e)return null;e=JSON.parse(e);return Date.now()-e.time<864e5?e:null}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"error/set":return t.data;case"session/set":return null;default:return e}}var P=Object(g.c)((function(e,t){return console.log("root_reducer",e,t),Object(g.b)({users:w,user_form:y,events:N,session:C,error:D})(e,t)}));function _(e){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(v.a.mark((function e(t){var n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://events-spa.teresewang.com:4000/api/v1"+t,{});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(v.a.mark((function e(t,n){var s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=3,fetch("http://events-spa.teresewang.com:4000/api/v1"+t,s);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){_("/users").then((function(e){var t={type:"users/set",data:e};P.dispatch(t)}))}function I(){_("/events").then((function(e){var t={type:"events/set",data:e};P.dispatch(t)}))}function J(e,t){E("/session",{email:e,password:t}).then((function(e){if(console.log("login resp",e),e.session){var t={type:"session/set",data:e.session};P.dispatch(t)}else if(e.error){var n={type:"error/set",data:e.error};P.dispatch(n)}}))}function T(){return(T=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("event[date]",t.date),n.append("event[description]",t.description),n.append("event[name]",t.name),fetch("http://events-spa.teresewang.com:4000/api/v1/events",{method:"POST",body:n}).then((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n(1);function A(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(u.a)(a,2),i=c[0],o=c[1];return Object(U.jsxs)(d.a,{onSubmit:function(e){e.preventDefault(),J(n,i)},inline:!0,children:[Object(U.jsx)("div",{className:"mr-1 h5 mt-2 font-weight-bold text-light ml-5",children:"Email:"}),Object(U.jsx)(d.a.Control,{name:"email",type:"text",onChange:function(e){return r(e.target.value)},value:n,className:"ml-1 mr-1"}),Object(U.jsx)("div",{className:"mr-1 h5 mt-2 font-weight-bold text-light",children:"Password:"}),Object(U.jsx)(d.a.Control,{name:"password",type:"password",onChange:function(e){return o(e.target.value)},value:i,className:"ml-1"}),Object(U.jsx)(h.a,{className:"h3 ml-1 mt-1 font-weight-bold",type:"submit",children:"Logins"})]})}var B=Object(i.b)()((function(e){var t=e.session,n=e.dispatch;return Object(U.jsxs)("div",{className:"h4 mt-5 ml-5 font-weight-bold",children:["Logged in as ",t.email," \xa0",Object(U.jsx)(h.a,{onClick:function(){n({type:"session/clear"})},children:"Logout"})]})}));var H=Object(i.b)((function(e){return{session:e.session}}))((function(e){var t=e.session;return t?Object(U.jsx)(B,{session:t}):Object(U.jsx)(A,{})}));function K(e){var t=e.to,n=e.children;return Object(U.jsx)(b.a.Item,{children:Object(U.jsx)(o.c,{to:t,exact:!0,className:"nav-link",activeClassName:"active",children:n})})}var M=Object(i.b)((function(e){return{error:e.error}}))((function(e){var t=e.error,n=null;return t&&(n=Object(U.jsx)(p.a,{children:Object(U.jsx)(O.a,{children:Object(U.jsx)(x.a,{variant:"danger",children:t})})})),Object(U.jsxs)(l.a,{fluid:!0,className:"bg-info",children:[Object(U.jsx)(p.a,{children:Object(U.jsx)(O.a,{children:Object(U.jsxs)(b.a,{children:[Object(U.jsx)("h1",{className:"mr-5 display-1 font-weight-bold text-light",children:"HWZone"}),Object(U.jsx)(H,{})]})})}),Object(U.jsx)(p.a,{children:Object(U.jsx)(O.a,{children:Object(U.jsxs)(b.a,{variant:"tabs",defaultActiveKey:"/",className:"h3 font-weight-bold",children:[Object(U.jsx)(K,{to:"/",children:"Home"}),Object(U.jsx)(K,{to:"/users",children:"Users"})]})})}),n]})}));var W=Object(i.b)((function(e){return{users:e.users,user_form:e.user_form}}))((function(e){var t=e.users.map((function(e){return Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:e.name}),Object(U.jsx)("td",{children:"[ Edit ]"})]},e.id)}));return Object(U.jsx)("div",{children:Object(U.jsx)(p.a,{children:Object(U.jsxs)(O.a,{children:[Object(U.jsx)("h2",{children:"List Users"}),Object(U.jsx)("p",{children:Object(U.jsx)(o.b,{to:"/users/new",children:"New User"})}),Object(U.jsxs)("table",{className:"table table-striped",children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"Name"}),Object(U.jsx)("th",{children:"Actions"})]})}),Object(U.jsx)("tbody",{children:t})]})]})})})})),Z=n(55),q=n.n(Z);var z=Object(i.b)((function(e){return{}}))((function(){var e=Object(j.f)(),t=Object(s.useState)({name:"",email:"",pass1:"",pass2:""}),n=Object(u.a)(t,2),r=n[0],a=n[1];function c(e,t){var n,s,c=Object.assign({},r);c[e]=t.target.value,c.password=c.pass1,c.pass_msg=(n=c.pass1,s=c.pass2,n!==s?"Passwords don't match.":n.length<8?"Password too short.":""),a(c)}return Object(U.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),function(e){return E("/users",{user:e})}(q()(r,["name","email","password"])).then((function(t){if(t.error){var n={type:"error/set",data:t.error};P.dispatch(n)}else F(),J(r.email,r.password),e.push("/")}))},children:[Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Name"}),Object(U.jsx)(d.a.Control,{type:"text",onChange:function(e){return c("name",e)},value:r.name})]}),Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Email"}),Object(U.jsx)(d.a.Control,{type:"text",onChange:function(e){return c("email",e)},value:r.email})]}),Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Password"}),Object(U.jsx)(d.a.Control,{type:"password",onChange:function(e){return c("pass1",e)},value:r.pass1}),Object(U.jsx)("p",{children:r.pass_msg})]}),Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Confirm Password"}),Object(U.jsx)(d.a.Control,{type:"password",onChange:function(e){return c("pass2",e)},value:r.pass2})]}),Object(U.jsx)(h.a,{variant:"primary",type:"submit",disabled:""!==r.pass_msg,children:"Save"})]})}));function Q(e){var t=e.event;return Object(U.jsx)(O.a,{xs:"12",children:Object(U.jsxs)("div",{className:"card my-2",children:[Object(U.jsx)("div",{className:"card-header font-weight-bold h4 text-primary",children:t.user.name}),Object(U.jsxs)("div",{className:"card-body",children:[Object(U.jsx)("h5",{className:"card-title h1 mr-2 font-weight-bold text-info",children:t.name}),Object(U.jsx)("h5",{className:"card-subtitle text-secondary mr-2 my-2",children:t.date}),Object(U.jsx)("p",{className:"card-text card-text font-weight-bold h4",children:t.description})]})]})})}var R=Object(i.b)((function(e){return{events:e.events}}))((function(e){var t,n=e.events.map((function(e){return Object(U.jsx)(Q,{event:e},e.id)}));return t=Object(U.jsx)("p",{children:Object(U.jsx)(o.b,{className:"btn btn-lg btn-primary text-light font-weight-bold mt-4",to:"events/new",children:"New Event"})}),Object(U.jsxs)("div",{children:[t,Object(U.jsx)(p.a,{className:"my-4",children:n})]})})),V=n(56),X=n.n(V);function Y(){var e=Object(j.f)(),t=Object(s.useState)({name:"",date:"",description:""}),n=Object(u.a)(t,2),r=n[0],a=n[1];function c(e,t){var n=Object.assign({},r);n[e]=t.target.value,a(n)}return Object(U.jsx)(p.a,{children:Object(U.jsx)(O.a,{children:Object(U.jsxs)(d.a,{onSubmit:function(t){t.preventDefault(),console.log(t),console.log(r),function(e){return T.apply(this,arguments)}(r).then((function(){e.push("/"),I()}))},children:[Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Event Name"}),Object(U.jsx)(d.a.Control,{type:"text",onChange:function(e){return c("name",e)},value:r.name})]}),Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Date"}),Object(U.jsx)("br",{}),Object(U.jsx)(X.a,{onChange:function(e){return function(e){var t=Object.assign({},r);t.date=e,a(t)}(e)},value:r.date})]}),Object(U.jsxs)(d.a.Group,{children:[Object(U.jsx)(d.a.Label,{children:"Description"}),Object(U.jsx)(d.a.Control,{as:"textarea",rows:4,onChange:function(e){return c("description",e)},value:r.description})]}),Object(U.jsx)(h.a,{variant:"primary",type:"submit",children:"Create Event"})]})})})}var $=function(){return Object(U.jsxs)(l.a,{children:[Object(U.jsx)(M,{}),Object(U.jsxs)(j.c,{children:[Object(U.jsx)(j.a,{path:"/",exact:!0,children:Object(U.jsx)(R,{})}),Object(U.jsx)(j.a,{path:"/users",exact:!0,children:Object(U.jsx)(W,{})}),Object(U.jsx)(j.a,{path:"/users/new",children:Object(U.jsx)(z,{})}),Object(U.jsx)(j.a,{path:"/events/new",exact:!0,children:Object(U.jsx)(Y,{})})]})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(i.a,{store:P,children:Object(U.jsx)(o.a,{children:Object(U.jsx)($,{})})})}),document.getElementById("root")),I(),F(),ee()},65:function(e,t,n){},66:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.8718db86.chunk.js.map