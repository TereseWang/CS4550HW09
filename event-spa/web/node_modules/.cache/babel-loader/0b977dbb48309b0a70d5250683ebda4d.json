{"ast":null,"code":"import{createStore,combineReducers}from'redux';function users(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'users/set':return action.data;default:return state;}}function user_form(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'user_form/set':return action.data;default:return state;}}function events(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'events/set':return action.data;default:return state;}}function session(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:load_session();var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'session/set':save_session(action.data);return action.data;case'session/clear':return null;default:return state;}}function save_session(sess){var session=Object.assign({},sess,{time:Date.now()});localStorage.setItem(\"session\",JSON.stringify(session));}function load_session(){var session=localStorage.getItem(\"session\");if(!session){return null;}session=JSON.parse(session);var age=Date.now()-session.time;var hours=60*60*1000;if(age<24*hours){return session;}else{return null;}}function error(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'error/set':return action.data;case'session/set':return null;default:return state;}}function root_reducer(state,action){console.log(\"root_reducer\",state,action);var reducer=combineReducers({users:users,user_form:user_form,events:events,session:session,error:error});return reducer(state,action);}var store=createStore(root_reducer);export default store;","map":{"version":3,"sources":["/media/psf/Home/Desktop/event-spa/web-ui/src/store.js"],"names":["createStore","combineReducers","users","state","action","type","data","user_form","events","session","load_session","save_session","sess","Object","assign","time","Date","now","localStorage","setItem","JSON","stringify","getItem","parse","age","hours","error","root_reducer","console","log","reducer","store"],"mappings":"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","sourcesContent":["import { createStore, combineReducers } from 'redux';\n\nfunction users(state = [], action) {\n    switch (action.type) {\n      case 'users/set':\n        return action.data;\n      default:\n        return state;\n    }\n}\n\nfunction user_form(state = {}, action) {\n    switch (action.type) {\n      case 'user_form/set':\n        return action.data;\n      default:\n        return state\n    }\n}\n\nfunction events(state = [], action) {\n  switch (action.type) {\n    case 'events/set':\n      return action.data;\n    default:\n      return state;\n  }\n}\nfunction session(state = load_session(), action) {\n  switch (action.type) {\n    case 'session/set':\n      save_session(action.data);\n      return action.data;\n    case 'session/clear':\n      return null;\n    default:\n      return state;\n  }\n}\n\nfunction save_session(sess) {\n  let session = Object.assign({}, sess, {time: Date.now()});\n  localStorage.setItem(\"session\", JSON.stringify(session));\n}\n\nfunction load_session() {\n  let session = localStorage.getItem(\"session\");\n  if (!session) {\n    return null;\n  }\n  session = JSON.parse(session);\n  let age = Date.now() - session.time;\n  let hours = 60*60*1000;\n  if (age < 24 * hours) {\n    return session;\n  }\n  else {\n    return null;\n  }\n}\n\nfunction error(state = null, action) {\n  switch (action.type) {\n    case 'error/set':\n      return action.data;\n    case 'session/set':\n      return null;\n    default:\n      return state;\n  }\n}\n\n\nfunction root_reducer(state, action) {\n    console.log(\"root_reducer\", state, action);\n    let reducer = combineReducers({\n        users, user_form, events, session, error\n    });\n    return reducer(state, action);\n}\n\nlet store = createStore(root_reducer);\nexport default store;\n"]},"metadata":{},"sourceType":"module"}