{"ast":null,"code":"var _jsxFileName = \"/media/psf/Home/Desktop/CS4550HW09/web-ui/src/Event/List.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_invites, fetch_user, fetch_event, fetch_events } from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EventList({\n  events,\n  session,\n  invites\n}) {\n  _s();\n\n  let history = useHistory();\n  let location = useLocation();\n\n  function AddNewEventButton() {\n    if (session) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/events/new\",\n        className: \"btn btn-lg font-weight-bold btn-info ml-3\",\n        children: \"New Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  function containEmail(email) {\n    var found = false;\n\n    for (var i = 0; i < invites.length; i++) {\n      if (invites[i].user.email == email) {\n        found = true;\n        break;\n      }\n    }\n\n    return found;\n  }\n\n  function ListingArticles({\n    session,\n    event_form,\n    invites\n  }) {\n    let rows = events.map(event => {\n      const link = \"/events/view/\" + event.id;\n\n      if (session) {\n        if (typeof invites == \"undefined\") {\n          fetch_invites(event.id);\n        }\n\n        if (event.user_id == session.user_id || containEmail(session.email)) {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            fluid: true,\n            className: \"my-4\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"\",\n                children: event.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: event.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: link,\n                className: \"text-danger\",\n                children: \"Read More\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 9\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 14\n          }, this);\n        }\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 14\n        }, this);\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-3\",\n      children: rows\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n  function Redirect({\n    to,\n    children\n  }) {\n    return /*#__PURE__*/_jsxDEV(Nav.Item, {\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: to,\n        exact: true,\n        className: \"btn btn-lg font-weight-bold text-light btn-info\",\n        activeClassName: \"active\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n  const UpdatingArticles = connect(({\n    session,\n    event_form\n  }) => ({\n    session,\n    event_form\n  }))(ListingArticles);\n  const [search, setSearch] = useState(\"\");\n\n  function update(ev) {\n    setSearch(ev.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(AddNewEventButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UpdatingArticles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EventList, \"hdBH3taKMvv47RHvxeLQKiYxG4A=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = EventList;\n\nfunction state2props({\n  events,\n  session,\n  invites\n}) {\n  return {\n    events,\n    session,\n    invites\n  };\n}\n\nexport default connect(state2props)(EventList);\n\nvar _c;\n\n$RefreshReg$(_c, \"EventList\");","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550HW09/web-ui/src/Event/List.js"],"names":["Button","Nav","NavRow","Row","Col","Card","Form","connect","useState","Link","useHistory","NavLink","useLocation","fetch_invites","fetch_user","fetch_event","fetch_events","Carousel","EventList","events","session","invites","history","location","AddNewEventButton","containEmail","email","found","i","length","user","ListingArticles","event_form","rows","map","event","link","id","user_id","name","description","Redirect","to","children","UpdatingArticles","search","setSearch","update","ev","target","value","state2props"],"mappings":"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","sourcesContent":["import { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_invites, fetch_user, fetch_event, fetch_events} from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\n\nfunction EventList({events, session, invites}) {\n  let history = useHistory()\n  let location = useLocation();\n\n  function AddNewEventButton() {\n    if (session) {\n      return(\n        <Redirect to=\"/events/new\" className=\"btn btn-lg font-weight-bold btn-info ml-3\">\n          New Event\n        </Redirect>\n      )\n    }\n    else {\n      return(\n        <br></br>\n      )\n    }\n  }\n\n  function containEmail(email) {\n    var found = false\n    for(var i = 0; i < invites.length; i++) {\n      if(invites[i].user.email == email) {\n        found = true;\n        break\n      }\n    }\n    return found\n  }\n\n  function ListingArticles({session, event_form, invites}) {\n    let rows = events.map((event) => {\n      const link = \"/events/view/\"+ event.id\n      if (session) {\n        if(typeof(invites) == \"undefined\") {\n        fetch_invites(event.id)\n      }\n        if (event.user_id == session.user_id || containEmail(session.email)) {\n      return (\n        <Card fluid className=\"my-4\">\n          <Card.Body>\n            <h1 className=\"\">{event.name}</h1>\n            <p>{event.description}</p>\n            <Link to={link}  className=\"text-danger\">Read More</Link>\n          </Card.Body>\n        </Card>\n    )}\n    else {\n      return <div></div>\n    }\n  }\n    else {\n      return <div></div>\n    }\n  });\n\n    return(\n      <div className=\"ml-3\">\n        {rows}\n      </div>\n    )\n  }\n\n  function Redirect({to, children}) {\n    return (\n      <Nav.Item>\n        <NavLink to={to} exact\n          className=\"btn btn-lg font-weight-bold text-light btn-info\"\n          activeClassName=\"active\">\n          {children}\n        </NavLink>\n      </Nav.Item>\n    );\n  }\n\n  const UpdatingArticles = connect(\n      ({session, event_form}) => ({session, event_form}))(ListingArticles);\n\n\n  const [search, setSearch] = useState(\"\");\n\n  function update(ev) {\n    setSearch(ev.target.value);\n  }\n\n  return (\n    <div>\n      <Row className=\"mt-3\">\n        <Col>\n          <AddNewEventButton />\n        </Col>\n      </Row>\n      <UpdatingArticles />\n    </div>\n  );\n}\n\nfunction state2props({events, session, invites}) {\n  return { events, session, invites};\n}\n\nexport default connect(state2props)(EventList);\n"]},"metadata":{},"sourceType":"module"}