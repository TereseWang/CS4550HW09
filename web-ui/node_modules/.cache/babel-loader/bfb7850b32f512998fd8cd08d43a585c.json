{"ast":null,"code":"import{Button,Nav,NavRow,Row,Col,Card,Form}from'react-bootstrap';import{connect}from'react-redux';import{useState}from'react';import{Link,useHistory,NavLink,useLocation}from'react-router-dom';import{fetch_invites,fetch_user,fetch_event,fetch_events}from'../api';import Carousel from'react-bootstrap/Carousel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EventList(_ref){var events=_ref.events,session=_ref.session;var history=useHistory();var location=useLocation();function AddNewEventButton(){if(session){return/*#__PURE__*/_jsx(Redirect,{to:\"/events/new\",className:\"btn btn-lg font-weight-bold btn-info ml-3\",children:\"New Event\"});}else{return/*#__PURE__*/_jsx(\"br\",{});}}function ListingArticles(_ref2){var session=_ref2.session,event_form=_ref2.event_form;var rows=events.map(function(event){var link=\"/events/view/\"+event.id;function contain_email(){for(var i=0;i<event.invites.length;i++){if(event.invites[i].user_id==session.user_id){return true;break;}}return false;}if(session){if(event.user_id==session.user_id||contain_email()){return/*#__PURE__*/_jsx(Card,{fluid:true,className:\"my-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\",children:event.name}),/*#__PURE__*/_jsx(\"p\",{children:event.description}),/*#__PURE__*/_jsx(Link,{to:link,className:\"text-danger\",children:\"Read More\"})]})});}else{return/*#__PURE__*/_jsx(\"div\",{});}}else{return/*#__PURE__*/_jsx(\"div\",{});}});return/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:rows});}function Redirect(_ref3){var to=_ref3.to,children=_ref3.children;return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:to,exact:true,className:\"btn btn-lg font-weight-bold text-light btn-info\",activeClassName:\"active\",children:children})});}var UpdatingArticles=connect(function(_ref4){var session=_ref4.session,event_form=_ref4.event_form;return{session:session,event_form:event_form};})(ListingArticles);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"mt-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(AddNewEventButton,{})})}),/*#__PURE__*/_jsx(UpdatingArticles,{})]});}function state2props(_ref5){var events=_ref5.events,session=_ref5.session;return{events:events,session:session};}export default connect(state2props)(EventList);","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550HW09/web-ui/src/Event/List.js"],"names":["Button","Nav","NavRow","Row","Col","Card","Form","connect","useState","Link","useHistory","NavLink","useLocation","fetch_invites","fetch_user","fetch_event","fetch_events","Carousel","EventList","events","session","history","location","AddNewEventButton","ListingArticles","event_form","rows","map","event","link","id","contain_email","i","invites","length","user_id","name","description","Redirect","to","children","UpdatingArticles","state2props"],"mappings":"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","sourcesContent":["import { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_invites, fetch_user, fetch_event, fetch_events} from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\n\nfunction EventList({events, session}) {\n  let history = useHistory()\n  let location = useLocation();\n  function AddNewEventButton() {\n    if (session) {\n      return(\n        <Redirect to=\"/events/new\" className=\"btn btn-lg font-weight-bold btn-info ml-3\">\n          New Event\n        </Redirect>\n      )\n    }\n    else {\n      return(\n        <br></br>\n      )\n    }\n  }\n\n  function ListingArticles({session, event_form}) {\n    let rows = events.map((event) => {\n      const link = \"/events/view/\"+ event.id\n\n      function contain_email() {\n        for(var i = 0; i < event.invites.length; i++) {\n          if(event.invites[i].user_id == session.user_id) {\n            return true\n            break\n          }\n        }\n        return false\n      }\n\n      if (session) {\n        if (event.user_id == session.user_id || contain_email()) {\n          return (\n            <Card fluid className=\"my-4\">\n              <Card.Body>\n                <h1 className=\"\">{event.name}</h1>\n                <p>{event.description}</p>\n                <Link to={link}  className=\"text-danger\">Read More</Link>\n              </Card.Body>\n            </Card>\n          )\n        }\n        else {\n          return <div></div>\n        }\n      }\n      else {\n        return <div></div>\n      }\n    })\n\n    return(\n      <div className=\"ml-3\">\n        {rows}\n      </div>\n    )\n  }\n\n  function Redirect({to, children}) {\n    return (\n      <Nav.Item>\n        <NavLink to={to} exact\n          className=\"btn btn-lg font-weight-bold text-light btn-info\"\n          activeClassName=\"active\">\n          {children}\n        </NavLink>\n      </Nav.Item>\n    );\n  }\n\n  const UpdatingArticles = connect(\n      ({session, event_form}) => ({session, event_form}))(ListingArticles);\n\n  return (\n    <div>\n      <Row className=\"mt-3\">\n        <Col>\n          <AddNewEventButton />\n        </Col>\n      </Row>\n      <UpdatingArticles />\n    </div>\n  );\n}\n\nfunction state2props({events, session}) {\n  return { events, session};\n}\n\nexport default connect(state2props)(EventList);\n"]},"metadata":{},"sourceType":"module"}